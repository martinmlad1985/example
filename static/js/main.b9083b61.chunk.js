(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{13:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return i}));var a=n(55),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"38520b65-cddd-4424-aaa9-b045804c3b92"}}),u={authMe:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e){return r.post("auth/login",e)},logout:function(){return r.delete("auth/login")}},c={unfollow:function(e){return r.delete("follow/"+e)},follow:function(e){return r.post("follow/"+e)}},i={getStatus:function(e){return r.get("/profile/status/".concat(e))},updateStatus:function(e){return r.put("/profile/status",{status:e})}}},135:function(e,t,n){e.exports=n(223)},20:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var a=n(3),r=n(13),u=n(42),c={id:null,email:null,login:null,isAuth:!1},i=function(e,t,n,a){return{type:"GET_USER_DATA",data:{id:e,email:t,login:n,isAuth:a}}},o=function(){return function(e){return r.a.authMe().then((function(t){if(0===t.resultCode){var n=t.data,a=n.id,r=n.email,u=n.login;e(i(a,r,u,!0))}}))}},s=function(e){return function(t){r.a.login(e).then((function(e){if(0===e.data.resultCode)t(o());else{var n=e.data.messages.length>0?e.data.messages[0]:"incorrect value";t(Object(u.a)("login",{_error:n}))}}))}},l=function(){return function(e){r.a.logout().then((function(t){0===t.data.resultCode&&e(i(null,null,null,!1))}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_DATA":return Object(a.a)(Object(a.a)({},e),t.data);default:return e}}},217:function(e,t,n){},218:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(16),c=n(62),i=n(72),o=n(45),s=n(20),l=n(79),d=n(78),f=n(3),b={initialStatus:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE":return Object(f.a)(Object(f.a)({},e),{},{initialStatus:!0});default:return e}},E=Object(u.c)({MyPostReducer:c.b,MyDialogsReducer:i.c,MyUsersReducer:o.c,AuthReducer:s.a,form:d.a,AppReducer:m}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,O=Object(u.e)(E,g(Object(u.a)(l.a)));window.store=O;var p=O,h=n(40),v=n.n(h),S=(n(217),n(29)),_=n(30),j=n(32),T=n(31),y=(n(218),n(82)),A=n.n(y),N=n(11),C=n(83),w=n.n(C),M=function(){return r.a.createElement("div",null,r.a.createElement(N.b,{to:"/dialogs",activeClassName:w.a.active},"MyMessage"))},P=n(84),R=n.n(P),U=function(){return r.a.createElement("div",null,r.a.createElement(N.b,{to:"/posts",activeClassName:R.a.active},"MyPage"))},I=n(85),L=n.n(I),G=function(){return r.a.createElement("div",null,r.a.createElement(N.b,{to:"/users",activeClassName:L.a.active},"Users"))},F=function(){return r.a.createElement("div",{className:A.a.navbar},"Navbar",r.a.createElement(U,null),r.a.createElement(M,null),r.a.createElement(G,null))},D=n(52),k=n.n(D),H=function(e){return r.a.createElement("div",{className:k.a.header},"Header",r.a.createElement("div",{className:k.a.login},e.isAuth?r.a.createElement("div",null,e.login,"  ",r.a.createElement("button",{onClick:function(){e.sendLogoutCreator()}},"Logout")):r.a.createElement(N.b,{to:"/login"},"login")))},x=n(21),B=function(e){Object(j.a)(n,e);var t=Object(T.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){return r.a.createElement(H,this.props)}}]),n}(r.a.Component),W=Object(x.b)((function(e){return{id:e.AuthReducer.id,email:e.AuthReducer.email,login:e.AuthReducer.login,isAuth:e.AuthReducer.isAuth}}),{getUserDataThunkCreator:s.b,sendLogoutCreator:s.d})(B),z=n(60),J=n(5),V=r.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,290))})),X=function(e){Object(j.a)(n,e);var t=Object(T.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeThunkCreator()}},{key:"render",value:function(){return this.props.initialStatus?r.a.createElement("div",{className:"wrapper"},r.a.createElement(W,null),r.a.createElement(F,null),r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")},r.a.createElement(V,null))):r.a.createElement("div",null,r.a.createElement(z.a,null))}}]),n}(a.Component),Z=Object(u.d)(J.f,Object(x.b)((function(e){return{initialStatus:e.AppReducer.initialStatus}}),{initializeThunkCreator:function(){return function(e){var t=e(Object(s.b)());Promise.all([t]).then((function(){e({type:"INITIALIZE"})}))}}}))(X);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));v.a.render(r.a.createElement(N.a,null,r.a.createElement(x.a,{store:p},r.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b}));var a=n(14),r=n(3),u=n(13),c=function(e){return{type:"SET_USERS",users:e}},i=function(e){return{type:"SET_CURRENT_PAGE",pageNumber:e}},o=function(e){return{type:"SET_USERS_TOTAL_COUNT",totalCount:e}},s=function(e){return{type:"SET_IS_FETCHING",isFetch:e}},l=function(e,t){return{type:"DISABLE_BUTTON",result:e,userId:t}},d={users:[],pageSize:40,totalUsersCount:0,currentPage:1,isFetching:!1,isFollowing:[]},f=function(e){return function(t){t(l(!0,e)),u.c.unfollow(e).then((function(n){0===n.data.resultCode&&t({type:"UNFOLLOW",id:e}),t(l(!1,e))}))}},b=function(e){return function(t){t(l(!0,e)),u.c.follow(e).then((function(n){0===n.data.resultCode&&t({type:"FOLLOW",id:e}),t(l(!1,e))}))}};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(r.a)(Object(r.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(r.a)(Object(r.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(r.a)(Object(r.a)({},e),{},{users:Object(a.a)(t.users)});case"SET_CURRENT_PAGE":return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.pageNumber});case"SET_USERS_TOTAL_COUNT":return Object(r.a)(Object(r.a)({},e),{},{totalUsersCount:t.totalCount});case"SET_IS_FETCHING":return Object(r.a)(Object(r.a)({},e),{},{isFetching:t.isFetch});case"DISABLE_BUTTON":return Object(r.a)(Object(r.a)({},e),{},{isFollowing:t.result?[].concat(Object(a.a)(e.isFollowing),[t.userId]):e.isFollowing.filter((function(e){return e!==t.userId}))});default:return e}}},52:function(e,t,n){e.exports={header:"Header_header__1niV_",login:"Header_login__1_ST2"}},60:function(e,t,n){"use strict";var a=n(86),r=n.n(a),u=n(0),c=n.n(u);t.a=function(){return c.a.createElement("div",null,c.a.createElement("img",{src:r.a}))}},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d}));var a=n(14),r=n(3),u=n(13),c=(n(45),function(e){return{type:"CHANGE-POSTTT",value:e}}),i=function(e){return{type:"GET_USER_PROFILE",userProfile:e}},o=function(e){return{type:"SET_STATUS",status:e}},s={arrPosts:["Post1","Post2","Post3","Post4"],currentPost:"",userProfile:null,status:""},l=function(e){return function(t){u.b.getStatus(e).then((function(e){t(o(e.data))}))}},d=function(e){return function(t){u.b.updateStatus(e).then((function(n){0===n.data.resultCode&&t(o(e))}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return"CHANGE-POSTTT"===t.type?Object(r.a)(Object(r.a)({},e),{},{arrPosts:[].concat(Object(a.a)(e.arrPosts),[t.value])}):"GET_USER_PROFILE"===t.type?Object(r.a)(Object(r.a)({},e),{},{userProfile:t.userProfile}):"SET_STATUS"===t.type?Object(r.a)(Object(r.a)({},e),{},{status:t.status}):e}},72:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var a=n(14),r=n(3),u=function(e){return{type:"CHANGE-MESSAGE",elem:e}},c=function(e){return{type:"ADD-MESSAGE",elem:e}},i={arrName:[{name:"Dima",id:"1"},{name:"Anna",id:"2"},{name:"Dasha",id:"3"},{name:"Margo",id:"4"}],arrMessage:[{message:"Hello",id:"1"},{message:"Good day",id:"2"},{message:"By-By",id:"3"}],currentMessage:""};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return"CHANGE-MESSAGE"===t.type?{copyState:Object(r.a)({},e),arrName:Object(a.a)(e.arrName),arrMessage:Object(a.a)(e.arrMessage),currentMessage:t.elem}:"ADD-MESSAGE"===t.type?{copyState:Object(r.a)({},e),arrName:Object(a.a)(e.arrName),arrMessage:[].concat(Object(a.a)(e.arrMessage),[{message:e.currentMessage,id:"4"}]),currentMessage:""}:e}},82:function(e,t,n){e.exports={navbar:"Navbar_navbar__3Gw8S"}},83:function(e,t,n){e.exports={active:"MyMessage_active__1bMAs"}},84:function(e,t,n){e.exports={active:"MyPage_active__3s-Oy"}},85:function(e,t,n){e.exports={active:"Users_active__3jMg7"}},86:function(e,t,n){e.exports=n.p+"static/media/preloader.ad438a26.png"}},[[135,1,2]]]);
//# sourceMappingURL=main.b9083b61.chunk.js.map